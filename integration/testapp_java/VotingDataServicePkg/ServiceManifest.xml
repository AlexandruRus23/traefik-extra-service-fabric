<?xml version="1.0" encoding="utf-8" ?>
<ServiceManifest Name="VotingDataServicePkg" Version="1.0.0" xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Description>Service that implements a VotingDataService service</Description>
  <ServiceTypes>
    <StatefulServiceType ServiceTypeName="VotingDataServiceType" HasPersistedState="true">
        <Extensions>
          <Extension Name="Traefik">
            <Labels xmlns="http://schemas.microsoft.com/2015/03/fabact-no-schema">
              <Label Key="traefik.frontend.rule.default">PathPrefixStrip: /backend_testapp_java</Label>
              <Label Key="traefik.frontend.priority">10</Label>              
              <Label Key="traefik.enable">true</Label>
            </Labels>
          </Extension>
      </Extensions>
    </StatefulServiceType>
  </ServiceTypes>
  <CodePackage Name="Code" Version="1.0.0">
    <EntryPoint>
      <ExeHost>
        <Program>entryPoint.sh</Program>
      </ExeHost>
    </EntryPoint>
  </CodePackage>
  <ConfigPackage Name="Config" Version="1.0.0" />
  <DataPackage Name="Data" Version="1.0.0" />
  <Resources>
      <Endpoints>
         <Endpoint Name="ServiceEndpoint" Type="Input" Protocol="http" Port="25199" />
         <Endpoint Name="ReplicatorEndpoint" />
      </Endpoints>
   </Resources>
 </ServiceManifest>
